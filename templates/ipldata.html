{% extends "base.html" %}
{% block title %}Overall Stats{% endblock %}
{% block page_title %}Overall Stats{% endblock %}

{% block content %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/smallcard.css') }}"/>
  <div id="global-controls" class="d-flex align-items-center gap-2 mb-4"></div>

  <div class="row g-4 mb-4">
    <!-- top batsmen, bowlers, fielders cards (unchanged) -->
    <div class="col-12 col-lg-4">
      <div class="card shadow-sm h-100">
        <div class="card-body p-3">
          <div id="chart-top-batsmen" style="min-height:380px;"></div>
        </div>
      </div>
    </div>
    <div class="col-12 col-lg-4">
      <div class="card shadow-sm h-100">
        <div class="card-body p-3">
          <div id="chart-top-bowlers" style="min-height:380px;"></div>
        </div>
      </div>
    </div>
    <div class="col-12 col-lg-4">
      <div class="card shadow-sm h-100">
        <div class="card-body p-3">
          <div id="chart-top-fielders" style="min-height:380px;"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="row g-4 mb-4">
    <!-- word cloud & winners pie -->
    <div class="col-12 col-lg-6">
      <div class="card shadow-sm small-chart-card">
        <div class="card-body">
          <div id="chart-wordcloud-mvp" style="height:100%;"></div>
        </div>
      </div>
    </div>
    <div class="col-12 col-lg-6">
      <div class="card shadow-sm small-chart-card">
        <div class="card-body">
          <div id="chart-team-winners-pie" style="height:100%;"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <!-- team wins line chart -->
    <div class="col-12">
      <div class="card shadow-sm">
        <div class="card-body p-3">
          <div id="chart-team-wins" style="min-height:280px;"></div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script type="module" src="{{ url_for('static', filename='js/seasonsDropdown.js') }}"></script>
  <script type="module" src="{{ url_for('static', filename='js/ipldata.js') }}"></script>
  <script type="module" src="{{ url_for('static', filename='js/ipldata_page.js') }}"></script>
  <script type="module">
    import { wireIpldataPage } from "./static/js/ipldata_page.js";
    wireIpldataPage();
  </script>
{% endblock %}
